import pdfkit
import os

# Get the current working directory
current_dir = os.getcwd()

# Define paths to the HTML and output PDF using os.path.join
html_file = os.path.join(current_dir, 'temp/main_seg.html')
output_pdf = os.path.join(current_dir, 'output/output.pdf')
css_file = os.path.join(current_dir, 'temp/main_seg.css')

# Options to handle potential issues and specify the CSS file
options = {
    'enable-local-file-access': None,
    'no-stop-slow-scripts': None,
    'quiet': '',  # Suppress output from wkhtmltopdf
    'user-style-sheet': css_file  # Apply the CSS file
}

# Generate the PDF with the given options
pdfkit.from_file(html_file, output_pdf, options=options)

print(f"PDF generated and saved as {output_pdf}")
